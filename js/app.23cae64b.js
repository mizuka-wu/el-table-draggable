(function(e){function t(t){for(var a,o,i=t[0],u=t[1],c=t[2],d=0,b=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(l,o)&&l[o]&&b.push(l[o][0]),l[o]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a]);s&&s(t);while(b.length)b.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,i=1;i<n.length;i++){var u=n[i];0!==l[u]&&(a=!1)}a&&(r.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},l={app:0},r=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/el-table-draggable/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var s=u;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("3ebb")},"0a4a":function(e,t,n){var a=n("fd42");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var l=n("499e").default;l("7302b8c4",a,!0,{sourceMap:!1,shadowMode:!1})},"0f73":function(e,t,n){"use strict";n.r(t),n.d(t,"name",(function(){return o})),n.d(t,"nameEn",(function(){return i}));var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-row",{attrs:{gutter:20}},e._l(e.lists,(function(t,a){return n("el-col",{key:a,attrs:{span:24/e.lists.length}},[n("ElTableDraggable",e._g({attrs:{group:"multiTable"}},e.$listeners),[n("el-table",{attrs:{data:t,"row-key":"id"}},e._l(e.columns,(function(e){return n("el-table-column",{key:e.key,attrs:{label:e.key,prop:e.key}})})),1)],1),n("ListViewer",{attrs:{value:t}})],1)})),1),n("CodeViewer",{attrs:{code:e.code,lang:"html"}})],1)},l=[],r=n("20e7"),o="多表格相互拖拽",i="Multi Table",u={data:function(){return{columns:r["a"],lists:[Object(r["b"])(6),[]],code:'\n\x3c!-- 列表 --\x3e            \n<ElTableDraggable group="multiTable">\n  <el-table>\n  </el-table>\n</ElTableDraggable>\n\n\x3c!-- 另一个 --\x3e\n<ElTableDraggable group="multiTable">\n  <el-table>\n  </el-table>\n</ElTableDraggable>            \n            '}}},c=u,s=n("2877"),d=Object(s["a"])(c,a,l,!1,null,null,null);t["default"]=d.exports},"1b75":function(e,t,n){"use strict";n("0a4a")},"1e64":function(e,t,n){"use strict";n.r(t),n.d(t,"name",(function(){return i})),n.d(t,"nameEn",(function(){return u}));var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("ElTableDraggable",e._g({attrs:{group:"singleTable"}},e.$listeners),[n("el-table",{attrs:{data:e.list,"default-expand-all":!0,"row-key":"id"}},[n("el-table-column",{attrs:{label:"",type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[e._v(" helloworld "+e._s(n.index)+" ")]}}])}),e._l(e.columns,(function(e){return n("el-table-column",{key:e.key,attrs:{label:e.key,prop:e.key}})}))],2)],1),n("ListViewer",{attrs:{value:e.list}}),n("CodeViewer",{attrs:{code:e.code,lang:"html"}})],1)},l=[],r=n("5530"),o=(n("d81d"),n("99af"),n("20e7")),i="单表格有展开行",u="Single Table with expanded",c={data:function(){return{columns:o["a"],list:Object(o["b"])(3).map((function(e,t){return Object(r["a"])(Object(r["a"])({},e),{},{subList:Object(o["b"])(3).map((function(e){return Object(r["a"])(Object(r["a"])({},e),{},{index:"".concat(t,"-").concat(e.index)})}))})})),code:'\n\x3c!-- 列表 --\x3e            \n<ElTableDraggable group="group0">\n  <el-table>\n    <el-table-column type="expand">\n      <ElTableDraggable group="group1">\n        <el-table>\n        </el-table>\n      </ElTableDraggable>\n    </el-table-column>\n  </el-table>\n</ElTableDraggable>\n            '}}},s=c,d=n("2877"),b=Object(d["a"])(s,a,l,!1,null,null,null);t["default"]=b.exports},"20e7":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return u}));var a=n("5530"),l=(n("c1f9"),n("d81d"),n("a630"),n("3ca3"),n("96eb")),r=n.n(l),o=[{key:"index",type:"number",width:80},{key:"id",type:"guid",width:160},{key:"name",type:"name",width:300},{key:"url",type:"url"}],i=Object.fromEntries(o.map((function(e){var t=e.key,n=e.type;return[t,"@".concat(n)]})));function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;return Array.from(new Array(e)).map((function(e,t){return Object(a["a"])(Object(a["a"])({},r.a.mock(i)),{},{index:t})}))}},"218f":function(e,t,n){"use strict";n.r(t),n.d(t,"name",(function(){return u})),n.d(t,"nameEn",(function(){return c}));var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-row",{attrs:{gutter:20}},e._l(e.lists,(function(t,a){return n("el-col",{key:a,attrs:{span:24/e.lists.length}},[n("ElTableDraggable",e._g({attrs:{group:"multiTableMain"}},e.$listeners),[n("el-table",{attrs:{data:t,"row-key":"id"}},[n("el-table-column",{attrs:{label:"",type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[n("ElTableDraggable",{attrs:{group:"multiTableSub"}},[n("el-table",{attrs:{data:a.subList,"row-key":"id"}},e._l(e.columns,(function(e){return n("el-table-column",{key:e.key,attrs:{label:e.key,prop:e.key}})})),1)],1)]}}],null,!0)}),e._l(e.columns,(function(e){return n("el-table-column",{key:e.key,attrs:{label:e.key,prop:e.key}})}))],2)],1),n("ListViewer",{attrs:{value:t}})],1)})),1),n("CodeViewer",{attrs:{code:e.code,lang:"html"}})],1)},l=[],r=n("5530"),o=n("2909"),i=(n("d81d"),n("a630"),n("3ca3"),n("20e7")),u="嵌套表格，区分层级",c="Group",s={data:function(){return{columns:i["a"],lists:Object(o["a"])(Array.from(new Array(2)).map((function(e,t){return Object(i["b"])(t+4).map((function(e){return Object(r["a"])(Object(r["a"])({},e),{},{subList:Object(i["b"])(2)})}))}))),code:'\n\x3c!-- 列表 --\x3e            \n<ElTableDraggable group="multiTable">\n  <el-table>\n    <el-table-column type="expand">\n      <ElTableDraggable group="multiTableSub">\n        <el-table>\n        </el-table>\n      </ElTableDraggable>\n    </el-table-column>\n  </el-table>\n</ElTableDraggable>\n\n\x3c!-- 另一个 --\x3e\n<ElTableDraggable group="multiTable">\n  <el-table>\n    <el-table-column type="expand">\n      <ElTableDraggable group="multiTableSub">\n        <el-table>\n        </el-table>\n      </ElTableDraggable>\n    </el-table-column>\n  </el-table>\n</ElTableDraggable>    \n            '}}},d=s,b=n("2877"),f=Object(b["a"])(d,a,l,!1,null,null,null);t["default"]=f.exports},"3ebb":function(e,t,n){var a=n("e31a");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var l=n("499e").default;l("61bc0355",a,!0,{sourceMap:!1,shadowMode:!1})},4799:function(e,t,n){var a=n("24fb");t=a(!1),t.push([e.i,".code[data-v-70e61e30]{overflow:auto;width:100%;max-height:300px;background:#eaeaea;box-sizing:border-box;padding:8px}",""]),e.exports=t},4878:function(e,t,n){"use strict";n.r(t),n.d(t,"name",(function(){return i})),n.d(t,"nameEn",(function(){return u}));var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("ElTableDraggable",e._g({},e.$listeners),[n("el-table",{attrs:{data:e.list,"row-key":"index","default-expand-all":""}},e._l(e.columns,(function(e){return n("el-table-column",{key:e.key,attrs:{label:e.key,prop:e.key}})})),1)],1),n("ListViewer",{attrs:{value:e.list}}),n("CodeViewer",{attrs:{code:e.code,language:"html"}})],1)},l=[],r=n("2909"),o=(n("99af"),n("d81d"),n("20e7")),i="树状表格拖拽",u="Tree Table Draggable",c={data:function(){return{columns:o["a"],list:[].concat(Object(r["a"])(Object(o["b"])(2).map((function(e){return{index:e.index+1,children:Object(o["b"])(2).map((function(t){return{index:"".concat(e.index+1,"-").concat(t.index+1),children:Object(o["b"])(4).map((function(n){return{index:"".concat(e.index+1,"-").concat(t.index+1,"-").concat(n.index+1)}}))}}))}}))),[{index:"空集合，无法拖入"},{index:"空集合，可拖入",children:[]},{index:"空集合，可拖入2",children:[]}]),code:'<ElTableDraggable>\n    <el-table row-key="必填" :data="list">\n    </el-table>\n</ElTableDraggable>'}}},s=c,d=n("2877"),b=Object(d["a"])(s,a,l,!1,null,null,null);t["default"]=b.exports},"53cd":function(e,t,n){"use strict";n("c568")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("h1",[e._v("Demo")]),n("el-tabs",{model:{value:e.demo,callback:function(t){e.demo=t},expression:"demo"}},e._l(e.examples,(function(t){var a=t.key,l=t.name;return n("el-tab-pane",{key:a,attrs:{label:l,name:a,lazy:""}},[n("div",[n("h2",[e._v(e._s(l))]),n(a,{tag:"component"}),n("el-button",{staticStyle:{margin:"16px 0"},attrs:{href:"https://github.com/mizuka-wu/el-table-draggable/blob/master/src/examples/"+a+".vue",type:"primary"}},[e._v(" 查看源文件 "),n("i",{staticClass:"el-icon-view el-icon--right"})]),n("hr")],1)])})),1)],1)},r=[],o=(n("d3b7"),n("159b"),n("ddb0"),n("ac1f"),n("5319"),n("99af"),n("b0c0"),n("d81d"),n("b64b"),{}),i={},u=n("b9a0");u.keys().forEach((function(e){var t=e.replace("./","").replace(".vue",""),n=u(e);o[t]=n.default,i[t]="".concat(n.name,"(").concat(n.nameEn,")")}));var c={name:"App",components:o,data:function(){var e=Object.keys(o).map((function(e){return{key:e,name:i[e]}}));return{examples:e}},computed:{demo:{set:function(e){var t=this.$route.query.demo;e!==t&&this.$router.replace({query:{demo:e}})},get:function(){return this.$route.query.demo||this.examples[0].key}}},methods:{onChoose:function(e){console.log(e)},change:function(e){console.log(e)}}},s=c,d=(n("034f"),n("2877")),b=Object(d["a"])(s,l,r,!1,null,null,null),f=b.exports,p=n("5c96"),g=n.n(p),m=n("8c4f"),v=(n("0fae"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(e.tag,{ref:"wrapper",tag:"component"},[e._t("default")],2)}),h=[],y=n("5530"),x=(n("a9e3"),n("4de4"),n("4ec9"),n("3ca3"),n("aa47")),w=(n("00b4"),function(){var e=navigator.userAgent,t=/(?:Windows Phone)/.test(e),n=/(?:SymbianOS)/.test(e)||t,a=/(?:Android)/.test(e),l=/(?:Firefox)/.test(e),r=/(?:iPad|PlayBook)/.test(e)||a&&!/(?:Mobile)/.test(e)||l&&/(?:Tablet)/.test(e),o=/(?:iPhone)/.test(e)&&!r,i=!o&&!a&&!n;return{isTablet:r,isPhone:o,isAndroid:a,isPc:i}}),k=n("b85c"),_=(n("a630"),n("7db0"),"_mapping"),E=n("d4ec"),T=n("bee2"),O=(n("a434"),n("2909")),D=n("9558"),j=(n("6062"),n("bf19"),n("fb6a"),n("0f32")),A=n.n(j),L=x["b"].utils,$=L.css,C=new Set,S=/--level-(\d+)/,M="el-table-draggable__empty-table",N="el-table-draggable__animated",P="el-table__indent",V="el-table__placeholder",q="el-table-draggable__indent-placeholder",I="el-table-draggable__indent",B="draggable-dominfo-placeholder",R=Object(D["a"])(/translate\((.*)px,[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]?(.*)px\)/,{x:1,y:2}),W=/el-table_\d*_column_\d*/;function F(e){var t=(S.exec(e)||[])[1]||0;return+(t||0)}function U(e){return"el-table__row--level-".concat(e)}function z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=F(e.className);if(n!==t){var a=U(n),l=U(t);e.classList.remove(a),e.classList.add(l)}}function G(){Array.from(document.querySelectorAll(".".concat(M))).forEach((function(e){e.classList.remove(M)})),K();var e=[].concat(Object(O["a"])(Array.from(document.querySelectorAll(".".concat(B)))),Object(O["a"])(Array.from(document.querySelectorAll(".".concat(q)))),Object(O["a"])(Array.from(document.querySelectorAll(".".concat(I)))));setTimeout((function(){e.forEach((function(e){ne(e)}))}))}function H(e){$(e,"transform",""),$(e,"transitionProperty",""),$(e,"transitionDuration","")}function J(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.getBoundingClientRect().toJSON(),a=e.style.transform;if(a&&t){var l=R.exec(a)||{},r=l.groups,o=void 0===r?{x:0,y:0}:r;n.x=n.x-+o.x,n.y=n.y-+o.y}return n}function Y(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;e.classList.add(N),$(e,"transitionProperty","transform"),$(e,"transitionDuration",n+"ms"),$(e,"transform",t),C.add(e)}function K(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=Array.isArray(t)?t:[t],a=n.length?n:C.values(),l=Object(k["a"])(a);try{for(l.s();!(e=l.n()).done;){var r=e.value;r.classList.remove(N),H(r),C.has(r)&&C.delete(r)}}catch(o){l.e(o)}finally{l.f()}}function Q(e,t){var n=J(e),a=J(e,!0),l=t.x,r=t.y,o={x:void 0!==l?l:n.x,y:void 0!==r?r:n.y},i="translate(".concat(o.x-a.x,"px, ").concat(o.y-a.y,"px)");return i}function X(e,t){H(e);var n=Q(e,t);Y(e,n)}function Z(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(n){if(e.parentNode===t.parentNode){var a=e.offsetTop-t.offsetTop;if(0!==a){var l=Array.from(e.parentNode.children),r=l.indexOf(e),o=l.indexOf(t),i=l.slice(Math.min(r,o),Math.max(r,o)).filter((function(t){return t!==e})),u=a>0?-1*e.offsetHeight:e.offsetHeight;i.forEach((function(e){return Y(e,"translateY(".concat(u,"px)"),n)})),Y(e,"translateY(".concat(a,"px)"),n)}}else console.log("非同一列表");setTimeout((function(){K()}),n)}t.parentNode.insertBefore(e,t)}function ee(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=t.nextSibling;Z(e,a,n)}function te(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=[{from:e,to:t},{from:t,to:e}];a.forEach((function(e){var t=e.from,a=e.to,l=J(a,!1),r=J(t,!1),o=r.width,i=l.width;if(o!==i){var u=o-i;l.x=l.x+u}var c=Q(t,l);Y(t,c,n)}))}function ne(e){e.parentElement&&e.parentElement.removeChild(e)}function ae(e){var t=Array.from(e.classList).find((function(e){return W.test(e)}));return document.querySelectorAll("td.".concat(t))}function le(e){var t=Array.from(e.classList).find((function(e){return W.test(e)}));return t}function re(e){var t=le(e);return document.querySelector("[name=".concat(t,"]"))}var oe=A()((function(e){var t=Array.isArray(e)?e:[e];t.forEach((function(e){var t=ae(e);t.forEach((function(t){var n=J(e),a=n.x;X(t,{x:a})}))}))}),1e3/120);function ie(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.childrenList.slice().reverse().forEach((function(n){if(t){var a=n.isShow?null:n.el.style.display;n.el.style.display=a,ee(n.el,e.el),ue(n,n.level)}else n.el.style.display="none";n.childrenList.length&&ie(n,t)}))}function ue(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16,a=e.el;e.level=t,z(a,t);var l=a.querySelector("td:nth-child(1) .cell");if(l){var r=t*n,o=l.querySelector(".".concat(P));o||(o=document.createElement("span"),o.classList.add(P,I),Z(o,l.firstChild)),o.style.paddingLeft="".concat(r,"px"),e.childrenList.forEach((function(e){ue(e,t+1,n)}));var i=l.querySelector(".".concat(V));i||(i=document.createElement("span"),i.classList.add(V,q),ee(i,o)),i.style.display=r?null:"none"}}function ce(e,t){var n=e.parentNode,a=t.parentNode,l=t.nextSibling;return l===e&&(l=l.nextSibling),n.replaceChild(t,e),l?a.insertBefore(e,l):a.appendChild(e),!0}var se={alignmentTableByThList:oe,getTransform:Q,clearAnimate:K,addAnimate:Y,ANIMATED_CSS:N,getTdListByTh:ae,translateTo:X,getDomPosition:J,insertAfter:ee,insertBefore:Z,remove:ne,exchange:te,cleanUp:G,toggleExpansion:ie,changeDomInfoLevel:ue,getLevelFromClassName:F,getLevelRowClassName:U,getColByTh:re,getColName:le,swapDom:ce};function de(e){return Object.keys(e.store.normalizedData||{}).length>0}function be(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=Array.from(e.values()),l=a.find((function(e){return"root"===e.type}));if(l){var r=a.filter((function(e){return"common"===e.type}));r.forEach((function(e){var a=e.data[e.index];a||console.log("这个有问题",e,e.index,e.data);!1!==a[t.hasChildren]&&a[t.children];var l=document.createElement("tr");l.classList.add(B,"prev",n)}));var o=l.el,i=Array.from(o.childNodes);Array.from(e.values()).forEach((function(e){"elIndex"in e&&(e.elIndex=i.indexOf(e.el))}))}}function fe(e){var t=e.$parent.$props.onMove;return t||function(){return!0}}function pe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.level,a=e.parent;return n===t?e:a?pe(a,t):null}function ge(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,l=e.data,r=e.treeProps,o=r||{},i=o.children,u=void 0===i?null:i;t.clear(),a&&a.stop();var c=e.$el.querySelector(n),s={el:c,level:-1,data:l,index:0,parent:null,childrenList:[],type:"root",isShow:!0};t.set(c,s);var d=Array.from(c.querySelectorAll("tr")).filter((function(e){return!e.classList.contains(B)}));return d.forEach((function(e,n){try{var a=e.className,r=e.style,o="none"!==r.display,i={elIndex:n,el:e,level:0,data:l,type:"common",index:0,parent:null,childrenList:[],isShow:o};if(!a)return s&&(Object.assign(i,Object(y["a"])(Object(y["a"])({},s),{},{childrenList:[],el:e,elIndex:n,type:"proxy"})),s.childrenList.push(i)),void t.set(e,i);var c=F(e.className);i.level=c;var d=c-s.level;switch(d){case 0:i.index=s.index+1,i.parent=s.parent,i.data=s.data,i.parent&&i.parent.childrenList.push(i);break;case 1:i.parent=s;var b="root"===s.type?l:s.data[s.index][u];i.data=b,i.parent.childrenList.push(i);break;default:var f=pe(s,c);if(!f)throw console.error(e,s),new Error("找不到其同级dom");i.index=f.index+1,i.parent=f.parent,i.data=f.data,i.parent&&i.parent.childrenList.push(i);break}t.set(e,i),s=i}catch(p){console.error({tr:e,latestDomInfo:s}),console.error(p)}})),a&&a.start(),t}var me=function(){function e(t){var n=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".el-table__body-wrapper tbody";Object(E["a"])(this,e),this.elTableInstance=t,this.mapping=new Map,this.wrapper=a,this.observer=new MutationObserver((function(){ge(n.elTableInstance,n.mapping,a,n)}))}return Object(T["a"])(e,[{key:"rebuild",value:function(){ge(this.elTableInstance,this.mapping,this.wrapper,this)}},{key:"start",value:function(){this.observer.observe(this.elTableInstance.$el.querySelector(this.wrapper),{childList:!0,subtree:!0,attributes:!0,attributeFilter:["style"]})}},{key:"stop",value:function(){this.observer.disconnect()}}]),e}();function ve(e,t,n,a,l){var r=t[e];"clone"!==l&&t.splice(e,1),a.splice(n,0,r)}function he(e,t,n,a){var l=e===t?[e]:[e,t];l.forEach((function(e){if(n.has(e)){var t=n.get(e);a(t)}}))}var ye=".el-table__body-wrapper tbody",xe=".el-table__row",we={WRAPPER:ye,DRAGGABLE:xe,OPTION:function(e,t,n){var a="data";t[_]&&t[_].stop();var l=new me(t,ye);t[_]=l,l.rebuild(),l.start();var r=null,o=de(t);return{onChoose:function(){o=de(t),G();var n,a=Object(k["a"])(e.values());try{for(a.s();!(n=a.n()).done;){var l=n.value,r=l[_];r&&r.stop(),o&&be(r.mapping,t.treeProps,xe.replace(".","")),l.store.states.defaultExpandAll=!1;var i=l.$el.querySelector(".el-table__body-wrapper table");0===i.clientHeight&&i.parentNode.classList.add(M)}}catch(u){a.e(u)}finally{a.f()}},onStart:function(e){var t=e.item,n=l.mapping.get(t);se.toggleExpansion(n,!1)},onMove:function(n,a){var l=n.related,r=n.dragged,i=n.to,u=n.from,c=n.willInsertAfter,s=e.get(u),d=e.get(i),b=s[_].mapping.get(r),f=d[_].mapping.get(l);if(o&&"placeholder"!==f.type)return!1;var p=f,g=fe(t);if(g){var m=g(n,a,{dragged:b,related:p});switch(m){case 1:c||(p=f);break;case-1:c&&(p=f);break;case!1:return!1;default:break}}setTimeout((function(){f.childrenList.forEach((function(e){"proxy"===e.type&&se.insertAfter(e.el,f.el)}))}));var v=s.store.states.indent;se.changeDomInfoLevel(b,p.level,v)},onEnd:function(t){var n=t.to,l=t.from,r=t.pullMode,o=t.newIndex,i=t.item,u=(t.oldIndex,e.get(l)),c=e.get(n),s=u[_].mapping.get(i),d=Array.from(c[_].mapping.values()),b=d.find((function(e){return e.elIndex===o}))||c[_].mapping.get(n);l!==n&&n.querySelectorAll(xe).length<=2&&(b.index=o),ve(s.index,s.parent.childrenList,b.index,"root"===b.type?b.childrenList:b.parent.childrenList,r),ve(s.index,s.data,b.index,b.data,r),"clone"===r&&l!==n&&n.removeChild(s.el),he(l,n,e,(function(e){var t=e.$parent,n=e[a];t.$emit("input",n)})),b.parent&&b.parent.parent&&se.toggleExpansion(b.parent,!0),se.toggleExpansion(s,!0),c.toggleRowExpansion(s.data,!0),G()},onUnchoose:function(){G(),r&&clearTimeout(r),r=setTimeout((function(){var t,n=Object(k["a"])(e.values());try{for(n.s();!(t=n.n()).done;){var a=t.value,l=a[_];l&&(l.rebuild(),l.start())}}catch(r){n.e(r)}finally{n.f()}}),100)}}}},ke=we,_e=n("3835"),Ee=".el-table__header-wrapper thead tr",Te={WRAPPER:".el-table__header-wrapper thead tr",DRAGGABLE:"th",OPTION:function(e,t,n){var a=!1;function l(e){if(a)return se.alignmentTableByThList(e),requestAnimationFrame((function(){l(e)}))}var r=[];return{onStart:function(){var e=Array.from(t.$el.querySelector(Ee).childNodes);r=e.map((function(e){var t=se.getColByTh(e),n=t?t.getAttribute("width"):e.offsetWidth;return{el:t,thEl:e,width:n,originWidth:n}})),a=!0,l(e)},setData:function(e,n){var a=n.offsetLeft,l=n.offsetWidth,r=n.offsetHeight,o=t.$el,i=document.createElement("div");i.style="position: fixed; z-index: -1;overflow: hidden; width: ".concat(l,"px");var u=document.createElement("div");u.style="position: relative; left: -".concat(a,"px; width: ").concat(o.offsetWidth,"px"),i.appendChild(u),u.appendChild(o.cloneNode(!0)),document.body.appendChild(i),e.setDragImage(i,2*a+l/2,r/2),setTimeout((function(){document.body.removeChild(i)}))},onMove:function(e,n){var a=e.related,l=e.dragged,o=(e.relatedRect,e.draggedRect,e.willInsertAfter),i=fe(t),u=i(e,n);switch(u){case 1:o=!0;break;case-1:o=!1;break;case!1:return!1;default:break}var c=o?[l,a]:[a,l],s=c.map((function(e){return r.find((function(t){return t.thEl===e}))}));if(2!==s.length)throw new Error("无法找到拖拽的th的信息，请检查是否跨表格拖拽了");var d=Object(_e["a"])(s,2),b=d[0],f=d[1];return setTimeout((function(){se.swapDom(b.el,f.el);var e=r.indexOf(b),t=r.indexOf(f);ve(e,r,t,r)})),!0},onEnd:function(t){var n="columns";se.cleanUp(),r.forEach((function(e){var t=e.el,n=e.originWidth;t&&t.setAttribute("width",n)})),a=!1;var l=t.to,o=t.from,i=t.pullMode,u=e.get(l),c=u[n],s=e.get(o),d=s[n],b=t.newIndex,f=t.oldIndex;ve(f,d,b,c,i);var p=s.$parent.value||[],g=u.$parent.value||[];p.length&&g.length&&ve(f,p,b,g,i),he(o,l,e,(function(e){var t=e.$parent,a=t.value?t.value:e[n].map((function(e){var t=e.property;return{property:t}}));t.$emit("input",a)}))}}}},Oe=Te,De={ROW:ke,COLUMN:Oe},je={name:"ElementUiElTableDraggable",props:{tag:{type:String,default:"div"},column:{type:Boolean,default:!1},value:{type:Array},animation:{type:Number,default:300},multiDrag:{type:Boolean,default:!1},onMove:{type:Function}},data:function(){return{_sortable:null,table:null}},methods:{init:function(){var e=window.__ElTableDraggableContext;if(!this.$children[0]&&!this.$children[0].$el)throw new Error("添加slot");this.destroy();var t=w(),n=De[this.column?"COLUMN":"ROW"],a=n.WRAPPER,l=n.DRAGGABLE,r=n.OPTION;this.table=this.$children[0].$el.querySelector(a);var o=this.$children[0];e.set(this.table,o);var i=this,u=this.animation,c=r(e,o,u);this._sortable=x["a"].create(this.table,Object(y["a"])(Object(y["a"])(Object(y["a"])({delay:t.isPc?0:300,animation:u},i.$attrs),{},{draggable:l},Object.keys(i.$listeners).reduce((function(e,t){var n=i.$listeners[t],a="on".concat(t.replace(/\b(\w)(\w*)/g,(function(e,t,n){return t.toUpperCase()+n.toLowerCase()})));return e[a]=function(){return n.apply(void 0,arguments)},e}),{})),Object.keys(c).reduce((function(e,t){var n=c[t];return e[t]=function(){for(var e=arguments.length,a=new Array(e),l=0;l<e;l++)a[l]=arguments[l];return"onMove"!==t&&i.$emit.apply(i,[t].concat(a)),n.apply(void 0,a)},e}),{})))},destroy:function(){if(this._sortable){this._sortable.destroy(),this._sortable=null;var e=this.table[_];e&&(e.stop(),e.mapping.clear(),delete this.table[_]);var t=window.__ElTableDraggableContext;t.has(this.table)&&t.delete(this.table),this.table=null}}},watch:{$attrs:{deep:!0,handler:function(e){var t=this;if(this._sortable){var n=Object.keys(e).filter((function(e){return 0!==e.indexOf("on")}));n.forEach((function(n){t._sortable.option(n,e[n])}))}}},column:function(){this.init()}},mounted:function(){window.__ElTableDraggableContext||(window.__ElTableDraggableContext=new Map),this.init()},beforeDestroy:function(){this.destroy()}},Ae=je,Le=(n("1b75"),Object(d["a"])(Ae,v,h,!1,null,null,null)),$e=Le.exports,Ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("pre",{staticClass:"code"},[e._v(e._s(e.displayed))])},Se=[],Me=(n("e9c4"),{props:{value:{type:Array,required:!0}},computed:{displayed:function(e){var t=e.value;return JSON.stringify(t,null,2)}}}),Ne=Me,Pe=(n("53cd"),Object(d["a"])(Ne,Ce,Se,!1,null,"70e61e30",null)),Ve=Pe.exports,qe=n("0c5e"),Ie=n.n(qe);n("0044");a["default"].use(g.a),a["default"].use(m["a"]),a["default"].component("CodeViewer",Ie.a),a["default"].component("ListViewer",Ve),a["default"].component("ElTableDraggable",$e),a["default"].config.productionTip=!1,new a["default"]({router:new m["a"]({routes:[]}),render:function(e){return e(f)}}).$mount("#app")},"5d8f":function(e,t,n){"use strict";n.r(t),n.d(t,"name",(function(){return o})),n.d(t,"nameEn",(function(){return i}));var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-row",{attrs:{gutter:20}},e._l(e.lists,(function(t,a){return n("el-col",{key:a,attrs:{span:24/e.lists.length}},[n("ElTableDraggable",e._g({attrs:{group:{name:"cloneMultiTable",pull:"clone"}}},e.$listeners),[n("el-table",{attrs:{data:t,"row-key":"id"}},e._l(e.columns,(function(e){return n("el-table-column",{key:e.key,attrs:{label:e.key,prop:e.key}})})),1)],1),n("ListViewer",{attrs:{value:t}})],1)})),1),n("CodeViewer",{attrs:{code:e.code,lang:"html"}})],1)},l=[],r=(n("d81d"),n("a630"),n("3ca3"),n("20e7")),o="克隆",i="Clone",u={data:function(){return{columns:r["a"],lists:Array.from(new Array(2)).map((function(e,t){return Object(r["b"])(t+2)})),code:"\n\x3c!-- 列表 --\x3e            \n<ElTableDraggable :group=\"{name: 'cloneMultiTable', pull: 'clone'}\">\n  <el-table>\n  </el-table>\n</ElTableDraggable>\n\n\x3c!-- 另一个 --\x3e\n<ElTableDraggable :group=\"{name: 'cloneMultiTable', pull: 'clone'}\">\n  <el-table>\n  </el-table>\n</ElTableDraggable>            \n            "}}},c=u,s=n("2877"),d=Object(s["a"])(c,a,l,!1,null,null,null);t["default"]=d.exports},"608f":function(e,t,n){"use strict";n.r(t),n.d(t,"name",(function(){return o})),n.d(t,"nameEn",(function(){return i}));var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("ElTableDraggable",e._g({},e.$listeners),[n("el-table",{attrs:{data:e.list,"row-key":"id"}},e._l(e.columns,(function(e){return n("el-table-column",{key:e.key,attrs:{label:e.key,prop:e.key}})})),1)],1),n("ListViewer",{attrs:{value:e.list}}),n("CodeViewer",{attrs:{code:e.code,language:"html"}})],1)},l=[],r=n("20e7"),o="简单列表拖拽",i="Base Draggable",u={data:function(){return{columns:r["a"],list:Object(r["b"])(),code:'<ElTableDraggable>\n    <el-table row-key="必填" :data="list">\n    </el-table>\n</ElTableDraggable>'}}},c=u,s=n("2877"),d=Object(s["a"])(c,a,l,!1,null,null,null);t["default"]=d.exports},"776e":function(e,t,n){"use strict";n.r(t),n.d(t,"name",(function(){return o})),n.d(t,"nameEn",(function(){return i}));var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("ElTableDraggable",e._g({attrs:{onMove:e.onMove}},e.$listeners),[n("el-table",{attrs:{data:e.list,"row-key":"index","default-expand-all":""}},e._l(e.columns,(function(e){return n("el-table-column",{key:e.key,attrs:{label:e.key,prop:e.key}})})),1)],1),n("ListViewer",{attrs:{value:e.list}}),n("CodeViewer",{attrs:{code:e.code,language:"html"}})],1)},l=[],r=(n("d81d"),n("99af"),n("20e7")),o="树状表格拖拽, 仅支持同个父级",i="Tree Table Draggable, only with same parent",u={data:function(){return{columns:r["a"],list:Object(r["b"])(2).map((function(e){return{index:e.index+1,children:Object(r["b"])(2).map((function(t){return{index:"".concat(e.index+1,"-").concat(t.index+1),children:Object(r["b"])(4).map((function(n){return{index:"".concat(e.index+1,"-").concat(t.index+1,"-").concat(n.index+1)}}))}}))}})),code:'\n      <template>\n          <ElTableDraggable v-on="$listeners" :onMove="onMove">\n            <el-table :data="list" row-key="index" default-expand-all></el-table>\n          </ElTableDraggable>\n      </template>\n      \n          methods: {\n            onMove(evt, originEvt, { dragged, related }) {\n              if (dragged.level !== 2) {\n                return false;\n              }\n\n              if (dragged.parent === related.parent) {\n                return true;\n              }\n\n              return false;\n            }\n          }\n      '}},methods:{onMove:function(e,t,n){var a=n.dragged,l=n.related;return 2===a.level&&a.parent===l.parent}}},c=u,s=n("2877"),d=Object(s["a"])(c,a,l,!1,null,null,null);t["default"]=d.exports},"87d6":function(e,t,n){"use strict";n.r(t),n.d(t,"name",(function(){return i})),n.d(t,"nameEn",(function(){return u}));var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("ElTableDraggable",e._g({attrs:{group:"multiTableNestingMix"}},e.$listeners),[n("el-table",{attrs:{data:e.list,"row-key":"id"}},[n("el-table-column",{attrs:{label:"",type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[n("ElTableDraggable",e._g({attrs:{group:"multiTableNestingMix"}},e.$listeners),[n("el-table",{attrs:{data:a.subList,"row-key":"id"}},e._l(e.columns,(function(e){return n("el-table-column",{key:e.key,attrs:{label:e.key,prop:e.key}})})),1)],1)]}}])}),e._l(e.columns,(function(e){return n("el-table-column",{key:e.key,attrs:{label:e.key,prop:e.key}})}))],2)],1),n("ListViewer",{attrs:{value:e.list}}),n("CodeViewer",{attrs:{code:e.code,lang:"html"}})],1)},l=[],r=n("5530"),o=(n("d81d"),n("20e7")),i="表格嵌套",u="Table Nestint",c={data:function(){return{columns:o["a"],list:Object(o["b"])(2).map((function(e){return Object(r["a"])(Object(r["a"])({},e),{},{subList:Object(o["b"])(2)})})),code:'\n\x3c!-- 列表 --\x3e            \n<ElTableDraggable group="group">\n  <el-table>\n    <el-table-column type="expand">\n      <ElTableDraggable group="group">\n        <el-table>\n        </el-table>\n      </ElTableDraggable>\n    </el-table-column>\n  </el-table>\n</ElTableDraggable>\n            '}}},s=c,d=n("2877"),b=Object(d["a"])(s,a,l,!1,null,null,null);t["default"]=b.exports},a85f:function(e,t,n){"use strict";n.r(t),n.d(t,"name",(function(){return o})),n.d(t,"nameEn",(function(){return i}));var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("ElTableDraggable",e._g({attrs:{column:""},model:{value:e.columns,callback:function(t){e.columns=t},expression:"columns"}},e.$listeners),[n("el-table",{attrs:{border:"",data:e.list,"row-key":"id"}},e._l(e.columns,(function(e){return n("el-table-column",{key:e.key,attrs:{label:e.key,prop:e.key,width:e.width,"column-key":e.key}})})),1)],1),n("ListViewer",{attrs:{value:e.columns}}),n("CodeViewer",{attrs:{code:e.code,language:"html"}})],1)},l=[],r=n("20e7"),o="列拖拽",i="Drag Column",u={data:function(){return{columns:r["a"],list:Object(r["b"])(),code:'<ElTableDraggable column>\n    <el-table :data="list">\n       <el-table-column\n          :key="column.key"\n          :label="column.key"\n          :prop="column.key"\n          :width="column.width"\n          :column-key="required!!!!!"\n          v-for="column of columns"\n        ></el-table-column>\n    </el-table>\n</ElTableDraggable>'}}},c=u,s=n("2877"),d=Object(s["a"])(c,a,l,!1,null,null,null);t["default"]=d.exports},b9a0:function(e,t,n){var a={"./Base.vue":"608f","./Column.vue":"a85f","./ColumnWithHandler.vue":"c09f","./DataTree.vue":"4878","./DataTreeSampleParent.vue":"776e","./Handle.vue":"f0ac","./MultiTable.vue":"0f73","./MultiTableClone.vue":"5d8f","./MultiTableGroup.vue":"218f","./MultiTableNestint.vue":"87d6","./SimpleTableNestint.vue":"1e64"};function l(e){var t=r(e);return n(t)}function r(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}l.keys=function(){return Object.keys(a)},l.resolve=r,e.exports=l,l.id="b9a0"},c09f:function(e,t,n){"use strict";n.r(t),n.d(t,"name",(function(){return o})),n.d(t,"nameEn",(function(){return i}));var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("ElTableDraggable",e._g({attrs:{column:"",handle:".handler"},model:{value:e.columns,callback:function(t){e.columns=t},expression:"columns"}},e.$listeners),[n("el-table",{attrs:{border:"",data:e.list,"row-key":"id"}},e._l(e.columns,(function(t){return n("el-table-column",{key:t.key,attrs:{label:t.key,prop:t.key,width:t.width,"column-key":t.key},scopedSlots:e._u([{key:"header",fn:function(t){var a=t.column;return[n("div",{staticClass:"handler",staticStyle:{display:"inline-block",width:"10px",height:"10px",background:"#000",cursor:"pointer"}}),n("div",{staticStyle:{}},[e._v(" "+e._s(a.label)+" ")])]}}],null,!0)})})),1)],1),n("ListViewer",{attrs:{value:e.columns}}),n("CodeViewer",{attrs:{code:e.code,language:"html"}})],1)},l=[],r=n("20e7"),o="列拖拽with handler",i="Drag Column with handler",u={data:function(){return{columns:r["a"],list:Object(r["b"])(),code:'<ElTableDraggable column handle="handler">\n    <el-table :data="list">\n       <el-table-column\n          :key="column.key"\n          :label="column.key"\n          :prop="column.key"\n          :width="column.width"\n          :column-key="required!!!!!"\n          v-for="column of columns"\n        ></el-table-column>\n    </el-table>\n</ElTableDraggable>'}}},c=u,s=n("2877"),d=Object(s["a"])(c,a,l,!1,null,null,null);t["default"]=d.exports},c568:function(e,t,n){var a=n("4799");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var l=n("499e").default;l("7bca1d0a",a,!0,{sourceMap:!1,shadowMode:!1})},e31a:function(e,t,n){var a=n("24fb");t=a(!1),t.push([e.i,"#app,body,html{width:100%;height:100%;margin:0;box-sizing:border-box}#app{max-width:1080px;padding:8px;margin:auto}",""]),e.exports=t},f0ac:function(e,t,n){"use strict";n.r(t),n.d(t,"name",(function(){return o})),n.d(t,"nameEn",(function(){return i}));var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("ElTableDraggable",e._g({attrs:{handle:".el-icon-rank"}},e.$listeners),[n("el-table",{attrs:{data:e.list,"row-key":"id",border:""}},[n("el-table-column",{attrs:{width:"30"}},[n("i",{staticClass:"el-icon-rank"})]),e._l(e.columns,(function(e){return n("el-table-column",{key:e.key,attrs:{label:e.key,prop:e.key}})}))],2)],1),n("ListViewer",{attrs:{value:e.list}}),n("CodeViewer",{attrs:{code:e.code,language:"html"}})],1)},l=[],r=n("20e7"),o="Handle可拖拽",i="Handle",u={data:function(){return{columns:r["a"],list:Object(r["b"])(),code:'<ElTableDraggable handle=".el-icon-rank">\n    <el-table row-key="必填" :data="list">\n      <el-table-column>\n        <i class="el-icon-rank" />\n      </el-table-column>\n    </el-table>\n</ElTableDraggable>'}}},c=u,s=n("2877"),d=Object(s["a"])(c,a,l,!1,null,null,null);t["default"]=d.exports},fd42:function(e,t,n){var a=n("24fb");t=a(!1),t.push([e.i,".draggable-dominfo-placeholder{height:10px;display:block;overflow:hidden;background:#000!important;width:100%;position:absolute;left:0;z-index:1}.draggable-dominfo-placeholder:hover{background:#409eff!important}.el-table-draggable__empty-table{min-height:60px}.el-table-draggable__empty-table table{width:100%;height:100%;min-height:60px;position:absolute;z-index:99}.el-table-draggable__empty-table tbody{position:absolute;width:100%;min-height:100%}",""]),e.exports=t}});
//# sourceMappingURL=app.23cae64b.js.map